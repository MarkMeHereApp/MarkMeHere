generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider     = "mysql"
  url          = env("DATABASE_URL")
  relationMode = "prisma"
}

enum UserType {
  Admin
  Student
  Professor
}

model User {
  userID             String    @id @map("userID")
  userType           UserType
  email              String
  name               String
  firstname          String    @db.VarChar(255)
  lastname           String    @db.VarChar(255)
  password           String    @db.VarChar(255)
  GPA                Float
  age                Int
  gender             String
  lecturesAttended   Int
  totalLectures      Int
  coursesAsStudent   Course[]  @relation("Course_Students")
  coursesAsAdmin     Course[]  @relation("Course_Admins")
  lecturesAttendance Lecture[] @relation("User_LecturesAttendance")
}

model Lecture {
  lectureID        String   @id @map("lectureID")
  lectureStartDate DateTime
  lectureEndDate   DateTime
  attendance       User[]   @relation("User_LecturesAttendance")
  courses          Course[] @relation("Course_Lectures")
}

model Course {
  courseID        String    @id @map("courseID")
  students        User[]    @relation("Course_Students")
  admins          User[]    @relation("Course_Admins")
  dateCreated     DateTime
  courseStartDate DateTime
  courseEndDate   DateTime?
  lectures        Lecture[] @relation("Course_Lectures")
}
